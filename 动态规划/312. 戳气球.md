## [312. 戳气球](https://leetcode.cn/problems/burst-balloons/description/)

1. 回溯递归 时间复杂度o(!n) 空间复杂度 o(n)
```ts
var maxCoins = function (nums) {
  let len = nums.length;
  let max = 0;
  const dp = (level, curMax) => {
    if (level === len) {
      if (curMax > max) {
        max = curMax;
      }
      return;
    }
    for (let i = 0; i < len; i++) {
      if (nums[i] === -1) {
        continue;
      }
      let temp = nums[i];
      nums[i] = -1
      let idx = i;
      let preIdx = i - 1;
      let pre = 1;
      while (preIdx > -1 && nums[preIdx] == -1) {
        preIdx -= 1;
      }
      if (preIdx > -1) {
        pre = nums[preIdx];
      }
      let nextIdx = i + 1;
      let next = 1;
      while (nextIdx < len && nums[nextIdx] == -1) {
        nextIdx += 1;
      }
      if (nextIdx < len) {
        next = nums[nextIdx];
      }
      let m = curMax + temp * pre * next;
      dp(level + 1, m);
      nums[i] = temp;
    }
  }
  dp(0, 0);
  return max;
};
```